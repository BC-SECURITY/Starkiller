import{_ as l}from"./DateTimeDisplay-e444a8c1.js";import{_ as c}from"./ListPageTop-beafc66e.js";import{h as _}from"./moment-fbc5633a.js";import{u as p}from"./bypass-module-c3821ce9.js";import{ay as d,n as m,p as y,a as f,b as o,d as h,e as n,f as r,i as b}from"./index-58f4050c.js";import{_ as v}from"./VDataTable-05bb859a.js";import"./VTooltip-8f539ce9.js";import"./VItemGroup-01fc0587.js";import"./bypass-api-dffd101a.js";import"./VSelect-01110476.js";const g={name:"Bypasses",components:{DateTimeDisplay:l,ListPageTop:c},data(){return{breads:[{text:"Bypasses",disabled:!0,href:"/bypasses"}],headers:[{text:"Name",value:"name"},{text:"Updated At",value:"updated_at"},{text:"Actions",value:"actions",sortable:!1}],sortBy:"name",sortDesc:!1,moment:_,selected:[]}},computed:{bypassStore(){return p()},...d(p,["bypasses"]),showDelete(){return this.selected.length>0}},mounted(){this.getBypasses()},methods:{getBypasses(){this.bypassStore.getBypasses()},create(){this.$router.push({name:"bypassNew"})},view(a){this.$router.push({name:"bypassEdit",params:{id:a.id}})},async deleteBypass(a){await this.$root.$confirm("Delete",`Are you sure you want to delete bypass ${a.name}?`,{color:"red"})&&await this.bypassStore.deleteBypass(a.id)},async deleteBypasses(){await this.$root.$confirm("Delete",`Are you sure you want to delete ${this.selected.length} bypasses?`,{color:"red"})&&this.selected.forEach(a=>{this.bypassStore.deleteBypass(a.id)})}}};var B=function(){var e=this,t=e._self._c;return t("div",[t(c,{attrs:{breads:e.breads,"show-create":!0,"show-refresh":!0,"show-delete":e.showDelete},on:{create:e.create,delete:e.deleteBypasses,refresh:e.getBypasses}}),t(v,{attrs:{headers:e.headers,items:e.bypasses,"footer-props":{itemsPerPageOptions:[5,10,15,20,50,100]},"items-per-page":15,"item-key":"name",dense:"","show-select":"","sort-by":e.sortBy,"sort-desc":e.sortDesc},on:{"update:sortBy":function(s){e.sortBy=s},"update:sort-by":function(s){e.sortBy=s},"update:sortDesc":function(s){e.sortDesc=s},"update:sort-desc":function(s){e.sortDesc=s}},scopedSlots:e._u([{key:"item.name",fn:function({item:s}){return[t("router-link",{staticStyle:{color:"inherit"},attrs:{to:{name:"bypassEdit",params:{id:s.id}}}},[e._v(" "+e._s(s.name)+" ")])]}},{key:"item.updated_at",fn:function({item:s}){return[t(l,{attrs:{timestamp:s.updated_at}})]}},{key:"item.actions",fn:function({item:s}){return[t(y,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:u}){return[t(f,e._g(e._b({attrs:{text:"",icon:"","x-small":""}},"v-btn",u,!1),i),[t(o,[e._v("fa-ellipsis-v")])],1)]}}],null,!0)},[t(h,{staticClass:"ml-2 mr-2"},[t(n,{key:"view",attrs:{link:""}},[t("router-link",{staticClass:"text-decoration-none",staticStyle:{color:"inherit"},attrs:{to:{name:"bypassEdit",params:{id:s.id}}}},[t(r,[t(o,[e._v("fa-binoculars")]),e._v(" View ")],1)],1)],1),t(n,{key:"copy",attrs:{to:{name:"bypassNew",params:{copy:!0,id:s.id}},link:""}},[t(r,[t(o,[e._v("fa-clone")]),e._v(" Copy ")],1)],1),t(b,{staticClass:"pb-4"}),t(n,{key:"delete",attrs:{link:""},on:{click:function(i){return e.deleteBypass(s)}}},[t(r,[t(o,[e._v("fa-trash-alt")]),e._v(" Delete ")],1)],1)],1)],1)]}}]),model:{value:e.selected,callback:function(s){e.selected=s},expression:"selected"}})],1)},k=[],w=m(g,B,k,!1,null,null,null,null);const L=w.exports;export{L as default};
